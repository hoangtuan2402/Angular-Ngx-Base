{"version":3,"file":"ngx-formly-material-datepicker.js.map","sources":["ng://@ngx-formly/material/datepicker/datepicker.type.ts","ng://@ngx-formly/material/datepicker/datepicker.module.ts"],"sourcesContent":["import { Component, ViewChild, AfterViewInit, TemplateRef, OnDestroy } from '@angular/core';\nimport { FieldType } from '@ngx-formly/material/form-field';\nimport { MatInput } from '@angular/material/input';\nimport { MatDatepickerInput } from '@angular/material/datepicker';\nimport { FormlyConfig, ÉµwrapProperty as wrapProperty } from '@ngx-formly/core';\n\n@Component({\n  selector: 'formly-field-mat-datepicker',\n  template: `\n    <input matInput\n      [id]=\"id\"\n      [errorStateMatcher]=\"errorStateMatcher\"\n      [formControl]=\"formControl\"\n      [matDatepicker]=\"picker\"\n      [matDatepickerFilter]=\"to.datepickerOptions.filter\"\n      [max]=\"to.datepickerOptions.max\"\n      [min]=\"to.datepickerOptions.min\"\n      [formlyAttributes]=\"field\"\n      [placeholder]=\"to.placeholder\"\n      [tabindex]=\"to.tabindex\"\n      [readonly]=\"to.readonly\"\n      [required]=\"to.required\"\n      (dateInput)=\"to.datepickerOptions.dateInput(field, $event)\"\n      (dateChange)=\"to.datepickerOptions.dateChange(field, $event)\">\n    <ng-template #datepickerToggle>\n      <mat-datepicker-toggle [disabled]=\"to.disabled\" [for]=\"picker\"></mat-datepicker-toggle>\n    </ng-template>\n    <mat-datepicker #picker\n      [color]=\"to.color\"\n      [dateClass]=\"to.datepickerOptions.dateClass\"\n      [disabled]=\"to.datepickerOptions.disabled\"\n      [opened]=\"to.datepickerOptions.opened\"\n      [panelClass]=\"to.datepickerOptions.panelClass\"\n      [startAt]=\"to.datepickerOptions.startAt\"\n      [startView]=\"to.datepickerOptions.startView\"\n      [touchUi]=\"to.datepickerOptions.touchUi\"\n      (monthSelected)=\"to.datepickerOptions.monthSelected(field, $event, picker)\"\n      (yearSelected)=\"to.datepickerOptions.yearSelected(field, $event, picker)\"\n    >\n    </mat-datepicker>\n  `,\n})\nexport class FormlyFieldDatepicker extends FieldType implements AfterViewInit, OnDestroy {\n  @ViewChild(MatInput, <any> { static: true }) formFieldControl!: MatInput;\n  @ViewChild(MatDatepickerInput, <any> { static: true }) datepickerInput!: MatDatepickerInput<any>;\n  @ViewChild('datepickerToggle') datepickerToggle!: TemplateRef<any>;\n\n  defaultOptions = {\n    templateOptions: {\n      datepickerOptions: {\n        startView: 'month',\n        datepickerTogglePosition: 'suffix',\n        dateInput: () => {},\n        dateChange: () => {},\n        monthSelected: () => {},\n        yearSelected: () => {},\n      },\n    },\n  };\n  private fieldErrorsObserver!: Function;\n\n  constructor(private config: FormlyConfig) {\n    super();\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    // temporary fix for https://github.com/angular/components/issues/16761\n    if (this.config.getValidatorMessage('matDatepickerParse')) {\n      wrapProperty(this.field.formControl, 'errors', ({ currentValue }) => {\n        if (currentValue && currentValue.required && currentValue.matDatepickerParse) {\n          const errors = Object.keys(currentValue)\n            .sort(prop => prop === 'matDatepickerParse' ? -1 : 0)\n            .reduce((errors, prop) => ({ ...errors, [prop]: currentValue[prop] }), {});\n          (this.field.formControl as any)['___$errors'] = errors;\n        }\n      });\n    }\n\n    // temporary fix for https://github.com/angular/material2/issues/6728\n    (<any> this.datepickerInput)._formField = this.formField;\n\n    setTimeout(() => {\n      switch (this.to.datepickerOptions.datepickerTogglePosition) {\n        case 'suffix':\n          this.to._matSuffix = this.datepickerToggle;\n          break;\n\n        case 'prefix':\n          this.to._matPrefix = this.datepickerToggle;\n          break;\n      }\n\n      (<any> this.options)._markForCheck(this.field);\n    });\n  }\n\n  ngOnDestroy() {\n    this.fieldErrorsObserver && this.fieldErrorsObserver();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormlyModule } from '@ngx-formly/core';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { FormlyMatFormFieldModule } from '@ngx-formly/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\n\nimport { FormlyFieldDatepicker } from './datepicker.type';\n\n@NgModule({\n  declarations: [FormlyFieldDatepicker],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    MatInputModule,\n    MatDatepickerModule,\n\n    FormlyMatFormFieldModule,\n    FormlyModule.forChild({\n      types: [{\n        name: 'datepicker',\n        component: FormlyFieldDatepicker,\n        wrappers: ['form-field'],\n      }],\n    }),\n  ],\n})\nexport class FormlyMatDatepickerModule { }\n"],"names":["tslib_1.__extends","wrapProperty"],"mappings":"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"}
